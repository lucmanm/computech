import React, { useEffect, useState } from "react";
import aioimg from "./assets/img/aioimg.jpg";
import { icons } from "./assets/data/data";
export const Products = () => {
  const [prod, setProd] = useState([]);

  const apiUrl = "https://dummyjson.com/products";
  // const apiUrl = "https://jsonplaceholder.typicode.com/todos";
  // let displayData;
  // function apiFitch() {
  //   fetch(apiUrl)
  //     .then((response) => response.json())
  //     .then((responseData) => {
  //       displayData = responseData.map((prod) => {
  //         return <p key={prod.id}>{prod.title}</p>;
  //       });
  //       console.log(displayData);
  //       setProd(displayData);
  //     });
  //   // return;
  // }
  // const apiFitch = async () => {
  //   const response = await fetch(apiUrl);
  //   const responseData = await response.json();
  //   displayData = responseData.products.map((prod) => {
  //     return <p key={prod.id}>{prod.title}</p>;
  //   });
  //   // console.log(displayData);
  //   setProd(displayData);
  // };
  const apiFitch = async () => {
    const response = await fetch(apiUrl);
    const responseData = await response.json();
    // displayData = responseData.products.map((prod) => {
    //   return <p key={prod.id}>{prod.title}</p>;
    // });
    setProd(responseData.products);
  };
  useEffect(() => {
    apiFitch();
  }, []);

  return (
    <div className="relative m-10 grid  h-fit grid-cols-2 justify-evenly gap-3 tablet:grid-cols-3 desktop:container desktop:grid-cols-5">
      {prod.slice(0, 5).map(({ id, description, price, images: [image1] }) => (
        <div className="" key={id}>
          <div className="group prose relative min-h-fit overflow-hidden rounded-md  bg-white p-4 hover:shadow-md">
            <span className="absolute top-7 left-7 z-10 rounded-md border px-1 ring-1 ring-blue-800">
              New
            </span>
            <img
              className="relative h-52 w-52 cursor-pointer border"
              src={image1}
              alt="All in one Image"
            />
            {/* Wishlist, Compare, QuickView */}
            <div className=" absolute top-7 right-7 flex flex-col items-end space-y-1">
              <button className="invisible relative flex h-11  w-11 flex-row-reverse items-center overflow-hidden truncate rounded-md bg-blue-900 py-1 text-white opacity-0  duration-300 hover:w-32 hover:duration-500 group-hover:visible group-hover:opacity-100 group-hover:duration-300">
                <span className="pr-2">{icons.heartIcon}</span>
                <span className="mx-1 inline-block px-1 text-base font-semibold">
                  Wish List
                </span>
              </button>
            </div>
            <span className="rounded-full bg-gray-100 px-2 py-1 text-blue-700">
              Category
            </span>
            <h4 className="leading-6 line-clamp-2">{description}</h4>
            <span className="block text-lg font-bold">Sr {price}</span>
            <button className="container flex max-w-full justify-between rounded-md bg-blue-900 p-1 pl-4 text-sm text-white hover:bg-blue-700">
              <span>{icons.cartIcon}</span>
              <span className=" pr-4">Add to cart</span>
            </button>
          </div>
        </div>
      ))}
    </div>
  );
};

      <div className="flex flex-col flex-wrap bg-white shadow-md">
        <div className="bg-gray-800 py-2 text-center text-slate-50">
          Free Shipping all Over Saudi Arabia
        </div>

        {/* Computech Logo and Search fitler */}
        <div className="relative flex items-center justify-evenly py-5 desktop:container">
          <div className="shrink">
            <Link to="/">
              <img src={CompuTechLogo} alt="" width={200} />
            </Link>
          </div>
          <div className="grow px-8">
            <input
              className="min-w-full rounded-full border border-blue-900 text-base ring-1 ring-blue-900"
              type="text"
              name="Search"
              id=""
            />
          </div>
          <div className="flex flex-col px-2 text-base font-medium ">
            <span className="text-blue-900">Need help? Call Us</span>
            <span>+966 56 261 7554</span>
          </div>
        </div>
        <div className="border border-b text-black shadow"></div>
        {/* Navigation Menus for Desktop & Tablet */}
        <div className="z-50 flex items-center py-1 desktop:container">
          <div className="hidden tablet:block">
            <button className="group relative my-2 flex shrink-0 cursor-pointer items-center justify-center rounded bg-blue-900 py-3 px-4 text-sm font-semibold uppercase">
              <p className="text-white">Shop By Categories</p>
              <HiMenu className="w-12" />
              <div className="shadow-dm invisible absolute top-full mt-2 w-max min-w-full rounded bg-gray-100 text-black group-hover:block group-focus:visible">
                <ul className="flex flex-col rounded border border-blue-100 text-left">
                  <li className="flex flex-row items-center border-b border-gray-200 p-3 hover:rounded-t hover:bg-gray-200">
                    <BiDesktop className="w-12" /> <p>Desktop</p>
                  </li>
                  <li className="flex flex-row items-center border-b border-gray-200 p-3 hover:rounded-t hover:bg-gray-200">
                    <BiLaptop className="w-12" /> <p>Laptop</p>
                  </li>
                  <li className="flex flex-row items-center border-b border-gray-200 p-3 hover:rounded-t hover:bg-gray-200">
                    <BiPrinter className="w-12" /> <p>Printer</p>
                  </li>
                  <li className="flex flex-row items-center border-b border-gray-200 p-3 hover:rounded-t hover:bg-gray-200">
                    <MdOutlineScanner className="w-12" /> <p>Scanner</p>
                  </li>
                  <li className="flex flex-row items-center border-b border-gray-200 p-3 hover:rounded-t hover:bg-gray-200">
                    <GiServerRack className="w-12" /> <p>Server</p>
                  </li>
                </ul>
              </div>
            </button>
          </div>
          <Navigationbar />
          <AccountLogin />
        </div>
      </div>
